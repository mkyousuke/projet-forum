<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Modifier le Post – CinéForum</title>
  <link rel="stylesheet" href="/static/css/main.css">
  <link rel="stylesheet" href="/static/css/new_post.css">
</head>
<body class="edit-post-page new-post-page">

<header class="new-post-header">
    <div class="header-content">
        <h1>Modifier le post</h1>
        <nav>
            <a href="/post?id={{.ID}}" class="btn btn-secondary">Annuler</a>
            <a href="/index" class="btn btn-outline">Accueil</a>
        </nav>
    </div>
</header>

<main class="new-post-container">
  <form class="form-card" action="/edit-post?id={{.ID}}" method="post" enctype="multipart/form-data">

    <div class="form-field">
      <label>Titre du post (non modifiable)</label>
      <p class="static-field">{{.Title}}</p>
    </div>

    <div class="form-field">
      <label for="content">Contenu</label>
      <textarea id="content" name="content" rows="10" required placeholder="Modifiez le contenu de votre post...">{{.Content}}</textarea>
    </div>

    {{if .ImagePath}}
    <div class="form-field">
        <label>Image actuelle (non modifiable)</label>
        <img src="/{{.ImagePath}}" alt="Image actuelle du post" class="current-post-image">
    </div>
    {{else}}
     <div class="form-field">
        <label>Image (non modifiable)</label>
        <p class="static-field"><em>Aucune image associée à ce post.</em></p>
    </div>
    {{end}}

    {{if .Categories}}
    <div class="form-field">
        <label>Catégories (non modifiable)</label>
        <div class="current-categories">
            {{ range .Categories }}
                <span class="category-badge">{{ . }}</span>
            {{ end }}
        </div>
    </div>
    {{end}}

    <div class="form-actions">
        <button type="submit" class="btn btn-primary btn-submit-post">
            Enregistrer les modifications
        </button>
    </div>

  </form>
</main>

<footer class="new-post-footer">
    <p>© 2025 CinéForum – Tous droits réservés</p>
</footer>

</body>
</html>