<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modifier Profil - CinéForum</title>
    <link rel="stylesheet" href="/static/css/main.css">
    <link rel="stylesheet" href="/static/css/modify_profil.css">
</head>
<body class="modify-profile-page">

<header class="modify-profile-header">
    <div class="header-content">
        <h1>Modifier Le Profil</h1>
        <nav>
            <a href="/profil" class="btn btn-secondary">Retour au Profil</a>
            <a href="/index" class="btn btn-outline">Accueil</a>
        </nav>
    </div>
</header>

<main class="modify-profile-container">
    <form class="form-card" action="/modify-profil" method="post">
        <div class="form-field">
          <label for="username">Nom d'utilisateur :</label>
          <input type="text" id="username" name="username" value="{{.Username}}" required placeholder="Votre nom d'utilisateur">
        </div>

        <fieldset class="form-fieldset avatar-selection-area">
            <legend>Choisir une nouvelle photo de profil</legend>

            <div class="avatar-category">
                <h2>Netflix</h2>
                <div class="photo-options-grid">
                  <img loading="lazy" src="/static/images/profil/netflix-bleu.jpg" alt="Bleu" onclick="selectPhoto(this)" data-photo="netflix-bleu.jpg">
                  <img loading="lazy" src="/static/images/profil/netflix-jaune.png" alt="Jaune" onclick="selectPhoto(this)" data-photo="netflix-jaune.png">
                  <img loading="lazy" src="/static/images/profil/netflix-rouge.jpg" alt="Rouge" onclick="selectPhoto(this)" data-photo="netflix-rouge.jpg">
                  <img loading="lazy" src="/static/images/profil/netflix-vert.jpg" alt="Vert" onclick="selectPhoto(this)" data-photo="netflix-vert.jpg">
                </div>
            </div>

             <div class="avatar-category">
                <h2>Marvel</h2>
                <div class="photo-options-grid">
                  <img loading="lazy" src="/static/images/profil/avengers.png" alt="Avengers" onclick="selectPhoto(this)" data-photo="avengers.png">
                  <img loading="lazy" src="/static/images/profil/iron-man.jpg" alt="Iron Man" onclick="selectPhoto(this)" data-photo="iron-man.jpg">
                  <img loading="lazy" src="/static/images/profil/spider-man.jpg" alt="Spider-Man" onclick="selectPhoto(this)" data-photo="spider-man.jpg">
                  <img loading="lazy" src="/static/images/profil/wanda.jpg" alt="Wanda" onclick="selectPhoto(this)" data-photo="wanda.jpg">
                  <img loading="lazy" src="/static/images/profil/doctor-strange.jpg" alt="Doctor Strange" onclick="selectPhoto(this)" data-photo="doctor-strange.jpg">
                  <img loading="lazy" src="/static/images/profil/black-widow.jpg" alt="Black Widow" onclick="selectPhoto(this)" data-photo="black-widow.jpg">
                  <img loading="lazy" src="/static/images/profil/hawkeye.jpg" alt="Hawkeye" onclick="selectPhoto(this)" data-photo="hawkeye.jpg">
                  <img loading="lazy" src="/static/images/profil/hulk.jpg" alt="Hulk" onclick="selectPhoto(this)" data-photo="hulk.jpg">
                  <img loading="lazy" src="/static/images/profil/captain-america.jpg" alt="Captain America" onclick="selectPhoto(this)" data-photo="captain-america.jpg">
                  <img loading="lazy" src="/static/images/profil/thor.jpg" alt="Thor" onclick="selectPhoto(this)" data-photo="thor.jpg">
                  <img loading="lazy" src="/static/images/profil/black-panther.jpg" alt="Black Panther" onclick="selectPhoto(this)" data-photo="black-panther.jpg">
                  <img loading="lazy" src="/static/images/profil/falcon.jpg" alt="Falcon" onclick="selectPhoto(this)" data-photo="falcon.jpg">
                  <img loading="lazy" src="/static/images/profil/ant-man.jpg" alt="Ant-Man" onclick="selectPhoto(this)" data-photo="ant-man.jpg">
                  <img loading="lazy" src="/static/images/profil/vision.jpg" alt="Vision" onclick="selectPhoto(this)" data-photo="vision.jpg">
                  <img loading="lazy" src="/static/images/profil/captain-marvel.jpg" alt="Captain Marvel" onclick="selectPhoto(this)" data-photo="captain-marvel.jpg">
                  <img loading="lazy" src="/static/images/profil/rocket.jpg" alt="Rocket" onclick="selectPhoto(this)" data-photo="rocket.jpg">
                  <img loading="lazy" src="/static/images/profil/star-lord.jpg" alt="Star-Lord" onclick="selectPhoto(this)" data-photo="star-lord.jpg">
                  <img loading="lazy" src="/static/images/profil/nebula.jpg" alt="Nebula" onclick="selectPhoto(this)" data-photo="nebula.jpg">
                  <img loading="lazy" src="/static/images/profil/drax.jpg" alt="Drax" onclick="selectPhoto(this)" data-photo="drax.jpg">
                  <img loading="lazy" src="/static/images/profil/gamora.jpg" alt="Gamora" onclick="selectPhoto(this)" data-photo="gamora.jpg">
                  <img loading="lazy" src="/static/images/profil/mantis.jpg" alt="Mantis" onclick="selectPhoto(this)" data-photo="mantis.jpg">
                  <img loading="lazy" src="/static/images/profil/groot.jpg" alt="Groot" onclick="selectPhoto(this)" data-photo="groot.jpg">
                  <img loading="lazy" src="/static/images/profil/monica.jpg" alt="Monica" onclick="selectPhoto(this)" data-photo="monica.jpg">
                  <img loading="lazy" src="/static/images/profil/wong.jpg" alt="Wong" onclick="selectPhoto(this)" data-photo="wong.jpg">
                  <img loading="lazy" src="/static/images/profil/deadpool.jpg" alt="Deadpool" onclick="selectPhoto(this)" data-photo="deadpool.jpg">
                  <img loading="lazy" src="/static/images/profil/wolverine.jpg" alt="Wolverine" onclick="selectPhoto(this)" data-photo="wolverine.jpg">
                  <img loading="lazy" src="/static/images/profil/miss-marvel.jpg" alt="Miss Marvel" onclick="selectPhoto(this)" data-photo="miss-marvel.jpg">
                  <img loading="lazy" src="/static/images/profil/moon-knight.jpg" alt="Moon Knight" onclick="selectPhoto(this)" data-photo="moon-knight.jpg">
                  <img loading="lazy" src="/static/images/profil/loki.jpg" alt="Loki" onclick="selectPhoto(this)" data-photo="loki.jpg">
                </div>
            </div>

            <div class="avatar-category">
                <h2>DC</h2>
                <div class="photo-options-grid">
                    <img loading="lazy" src="/static/images/profil/batman.jpg" alt="Batman" onclick="selectPhoto(this)" data-photo="batman.jpg">
                    <img loading="lazy" src="/static/images/profil/superman.jpg" alt="Superman" onclick="selectPhoto(this)" data-photo="superman.jpg">
                    <img loading="lazy" src="/static/images/profil/cat-woman.jpg" alt="Cat Woman" onclick="selectPhoto(this)" data-photo="cat-woman.jpg">
                    <img loading="lazy" src="/static/images/profil/flash.jpg" alt="Flash" onclick="selectPhoto(this)" data-photo="flash.jpg">
                    <img loading="lazy" src="/static/images/profil/green-lantern.jpg" alt="Green Lantern" onclick="selectPhoto(this)" data-photo="green-lantern.jpg">
                    <img loading="lazy" src="/static/images/profil/aquaman.jpg" alt="Aquaman" onclick="selectPhoto(this)" data-photo="aquaman.jpg">
                    <img loading="lazy" src="/static/images/profil/joker.jpg" alt="Joker" onclick="selectPhoto(this)" data-photo="joker.jpg">
                    <img loading="lazy" src="/static/images/profil/harley-quinn.jpg" alt="Harley Quinn" onclick="selectPhoto(this)" data-photo="harley-quinn.jpg">
                    <img loading="lazy" src="/static/images/profil/shazam.jpg" alt="Shazam" onclick="selectPhoto(this)" data-photo="Shazam.jpg">
                    <img loading="lazy" src="/static/images/profil/black-adam.jpg" alt="Black Adam" onclick="selectPhoto(this)" data-photo="black-adam.jpg">
                </div>
            </div>

             <div class="avatar-category">
                <h2>Stranger Things</h2>
                <div class="photo-options-grid">
                    <img loading="lazy" src="/static/images/profil/eleven.jpg" alt="Eleven" onclick="selectPhoto(this)" data-photo="eleven.jpg">
                    <img loading="lazy" src="/static/images/profil/dustin.jpg" alt="Dustin" onclick="selectPhoto(this)" data-photo="dustin.jpg">
                    <img loading="lazy" src="/static/images/profil/mike.jpg" alt="Mike" onclick="selectPhoto(this)" data-photo="mike.jpg">
                    <img loading="lazy" src="/static/images/profil/lucas.jpg" alt="Lucas" onclick="selectPhoto(this)" data-photo="lucas.jpg">
                    <img loading="lazy" src="/static/images/profil/will.jpg" alt="Will" onclick="selectPhoto(this)" data-photo="will.jpg">
                    <img loading="lazy" src="/static/images/profil/max.jpg" alt="Max" onclick="selectPhoto(this)" data-photo="max.jpg">
                    <img loading="lazy" src="/static/images/profil/robin.jpg" alt="Robin" onclick="selectPhoto(this)" data-photo="robin.jpg">
                    <img loading="lazy" src="/static/images/profil/steve.jpg" alt="Steve" onclick="selectPhoto(this)" data-photo="steve.jpg">
                    <img loading="lazy" src="/static/images/profil/hopper.jpg" alt="Hopper" onclick="selectPhoto(this)" data-photo="hopper.jpg">
                </div>
            </div>

            <div class="avatar-category">
                <h2>Star Wars</h2>
                <div class="photo-options-grid">
                    <img loading="lazy" src="/static/images/profil/anakin.jpg" alt="Anakin" onclick="selectPhoto(this)" data-photo="anakin.jpg">
                    <img loading="lazy" src="/static/images/profil/rey.jpg" alt="Rey" onclick="selectPhoto(this)" data-photo="rey.jpg">
                    <img loading="lazy" src="/static/images/profil/luke.jpg" alt="Luke" onclick="selectPhoto(this)" data-photo="luke.jpg">
                    <img loading="lazy" src="/static/images/profil/han-solo.jpg" alt="Han Solo" onclick="selectPhoto(this)" data-photo="han-solo.jpg">
                    <img loading="lazy" src="/static/images/profil/leia.jpg" alt="Leia" onclick="selectPhoto(this)" data-photo="leia.jpg">
                    <img loading="lazy" src="/static/images/profil/yoda.jpg" alt="Yoda" onclick="selectPhoto(this)" data-photo="yoda.jpg">
                    <img loading="lazy" src="/static/images/profil/darth-vader.jpg" alt="Darth Vader" onclick="selectPhoto(this)" data-photo="darth-vader.jpg">
                    <img loading="lazy" src="/static/images/profil/obi-wan.jpg" alt="Obi Wan" onclick="selectPhoto(this)" data-photo="obi-wan.jpg">
                </div>
            </div>

        </fieldset>

        <input type="hidden" id="photo" name="photo" value="{{.Photo}}">

        <div class="form-actions">
            <button type="submit" class="btn btn-primary">Enregistrer</button>
            <button type="submit" name="remove_photo" value="true" class="btn btn-danger btn-remove">Retirer la photo</button>
        </div>
    </form>
</main>

<footer class="modify-profile-footer">
    <p>© 2025 CinéForum – Tous droits réservés</p>
</footer>

<script>
    function selectPhoto(imgElement) {
        const allImages = document.querySelectorAll('.photo-options-grid img');
        allImages.forEach(i => i.classList.remove('selected'));
        imgElement.classList.add('selected');
        const hiddenInput = document.getElementById('photo');
        if (hiddenInput) {
            hiddenInput.value = imgElement.getAttribute('data-photo');
        }
    }
    document.addEventListener('DOMContentLoaded', () => {
        const currentPhotoValue = document.getElementById('photo')?.value;
        if (currentPhotoValue) {
            const selectedImg = document.querySelector(`.photo-options-grid img[data-photo="${currentPhotoValue}"]`);
            if (selectedImg) {
                selectedImg.classList.add('selected');
            }
        }
    });
</script>

</body>
</html>