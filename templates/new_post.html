<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Nouveau Post – CinéForum</title>
  <link rel="stylesheet" href="/static/css/main.css">
  <link rel="stylesheet" href="/static/css/new_post.css">
</head>
<body class="new-post-page">

<header class="new-post-header">
    <div class="header-content">
        <h1>Créer un nouveau post</h1>
        <nav>
            <a href="/posts" class="btn btn-secondary">Retour aux posts</a>
            <a href="/index" class="btn btn-outline">Accueil</a>
        </nav>
    </div>
</header>

<main class="new-post-container">
  <form class="form-card" action="/nouveau-post" method="post" enctype="multipart/form-data">

    <div class="form-field">
      <label for="title">Titre du post</label>
      <input type="text" id="title" name="title" required placeholder="Un titre accrocheur...">
    </div>

    <div class="form-field">
      <label for="content">Contenu</label>
      <textarea id="content" name="content" rows="8" required placeholder="Partagez vos pensées, analyses, questions..."></textarea>
    </div>

    <fieldset class="form-fieldset">
        <legend>Catégories (choisissez-en au moins une)</legend>
        <div class="category-selection-grid">
            {{ range .Categories }}
              <div class="category-option">
                <input type="checkbox" id="cat-{{ .ID }}" name="categories" value="{{ .ID }}">
                <label for="cat-{{ .ID }}">{{ .Name }}</label>
              </div>
            {{ else }}
                <p>Aucune catégorie disponible.</p>
            {{ end }}
        </div>
    </fieldset>

    <div class="form-field">
      <label for="image">Image (optionnel)</label>
      <input type="file" id="image" name="image" accept="image/png, image/jpeg, image/gif, image/webp">
      <small>Formats acceptés : PNG, JPG, GIF, WebP. Taille max : 10 Mo.</small>
    </div>

    <div class="form-actions">
        <button type="submit" class="btn btn-primary btn-submit-post">
        Soumettre pour validation
        </button>
    </div>

  </form>
</main>

<footer class="new-post-footer">
    <p>© 2025 CinéForum – Tous droits réservés</p>
</footer>

</body>
</html>